<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Harvest Moon Inspired Farm</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        margin: 0;
        font-family: "Nunito", sans-serif;
        background: #1b1d2a;
        color: #f4f4f8;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        min-height: 100vh;
      }

      header {
        padding: 1rem;
        text-align: center;
      }

      #game-container {
        position: relative;
        width: 960px;
        margin-bottom: 1rem;
      }

      canvas {
        border: 3px solid #f4f4f8;
        background: #283044;
        display: block;
      }

      #hud-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        padding: 0.5rem;
        pointer-events: none;
        font-size: 0.95rem;
      }

      #hud-overlay .row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.25rem;
      }

      #hud-overlay .panel {
        background: rgba(16, 20, 32, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 6px;
        padding: 0.35rem 0.5rem;
        margin-right: 0.5rem;
      }

      #hud-overlay .panel:last-child {
        margin-right: 0;
      }

      #hud-overlay .progress {
        height: 8px;
        background: rgba(255, 255, 255, 0.15);
        border-radius: 4px;
        overflow: hidden;
        margin-top: 0.25rem;
      }

      #hud-overlay .progress span {
        display: block;
        height: 100%;
        background: linear-gradient(90deg, #6de195, #4ea5d9);
      }

      #menu-overlay {
        position: absolute;
        inset: 0;
        display: none;
        background: rgba(0, 0, 0, 0.75);
        align-items: center;
        justify-content: center;
      }

      #menu-overlay.active {
        display: flex;
      }

      #menu-overlay .menu-panel {
        background: #182033;
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 10px;
        padding: 1.5rem;
        width: 420px;
      }

      #menu-overlay h2 {
        margin-top: 0;
        margin-bottom: 0.75rem;
        font-size: 1.4rem;
      }

      #menu-overlay ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      #menu-overlay li {
        margin-bottom: 0.5rem;
      }

      footer {
        font-size: 0.9rem;
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 1.5rem;
        max-width: 960px;
      }

      @media (max-width: 980px) {
        #game-container,
        canvas {
          width: 100vw;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Harvest Moon Daily Loop Prototype</h1>
      <p>
        Arrow keys to move · Space to interact · 1-4 to select tools (Hoe, Seeds, Watering Can, Sickle)
        · M to open menu · Enter to sleep when in bed
      </p>
    </header>

    <div id="game-container">
      <canvas id="gameCanvas" width="960" height="640"></canvas>
      <div id="hud-overlay"></div>
      <div id="menu-overlay">
        <div class="menu-panel">
          <h2>Farm Summary</h2>
          <ul id="menu-content"></ul>
          <p style="margin-top: 1rem; font-size: 0.85rem; color: rgba(255,255,255,0.6);">
            Press M to close · Changes save automatically when you sleep
          </p>
        </div>
      </div>
    </div>

    <footer>
      Prototype focuses on the farming core loop: cultivate soil, plant turnips, manage stamina, water daily,
      harvest for profit, and ship goods before sleeping to progress the calendar. Animals and villagers follow
      simplified schedules to demonstrate extensibility beyond crops.
    </footer>

    <script type="module" src="src/main.js"></script>
  </body>
</html>
