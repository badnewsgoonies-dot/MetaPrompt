<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Golden Sun Battle – Psynergy Menu</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { background: #000; font-family: 'Press Start 2P', 'Courier New', monospace; font-size: 8px; image-rendering: pixelated; overflow: hidden; color: #fff; }
    .battle-container { width: 960px; height: 640px; margin: 20px auto; position: relative; background: linear-gradient(180deg, #5572c4 0%, #41539a 40%, #2f3a78 100%); overflow: hidden; border: 4px solid #101d38; box-shadow: 0 12px 30px rgba(0,0,0,0.65); }
    .stat-bar { position: absolute; top: 0; left: 0; right: 0; height: 56px; background: rgba(4, 10, 44, 0.8); display: flex; padding: 4px 12px; gap: 8px; }
    .hero-stat { flex: 1; display: flex; flex-direction: column; gap: 2px; }
    .hero-stat .name { font-size: 10px; text-shadow: 1px 1px 0 #000; }
    .stat-line { display: flex; align-items: center; gap: 6px; font-size: 9px; }
    .stat-label { color: #7ecbff; min-width: 22px; }
    .stat-value { text-shadow: 1px 1px 0 #000; }
    .bar { flex: 1; height: 6px; border: 1px solid #000; background: #1c2444; position: relative; overflow: hidden; }
    .bar-fill { position: absolute; inset: 0; background: linear-gradient(180deg, #66AAFF, #3C76D0); }
    .bar-fill.hp { background: linear-gradient(180deg, #7ff0ff, #4bd2f7); }
    .enemy-row { position: absolute; top: 130px; left: 50%; transform: translateX(-50%); display: flex; gap: 72px; z-index: 3; }
    .enemy { width: 116px; height: 116px; filter: drop-shadow(2px 2px 6px rgba(0,0,0,0.65)); animation: float 3s ease-in-out infinite; }
    .enemy:nth-child(2) { animation-delay: .65s; }
    .enemy:nth-child(3) { animation-delay: 1.1s; }
    .enemy img, .hero img { width: 100%; height: 100%; image-rendering: pixelated; }
    .party-row { position: absolute; bottom: 192px; left: 50%; transform: translateX(-50%); display: flex; gap: 64px; z-index: 2; }
    .hero { width: 84px; height: 84px; filter: drop-shadow(2px 2px 5px rgba(0,0,0,0.5)); }
    .combat-log { position: absolute; left: 210px; right: 210px; bottom: 182px; height: 108px; background: rgba(6, 14, 64, 0.9); border: 2px solid #4c63d3; border-radius: 4px; padding: 10px; overflow-y: auto; font-size: 10px; line-height: 1.6; z-index: 15; }
    .combat-log .log-entry { margin-bottom: 6px; text-shadow: 1px 1px 0 #000; }
    .combat-log .amplify { color: #8ff7ff; font-weight: bold; }
    .bottom-ui { position: absolute; bottom: 0; left: 0; right: 0; height: 176px; background: rgba(0,0,0,0.82); border-top: 2px solid #2a3e7a; display: flex; gap: 14px; padding: 12px 16px; }
    .psynergy-menu { flex: 1; background: rgba(12, 22, 68, 0.95); border: 2px solid #4c63d3; border-radius: 4px; padding: 12px; display: grid; grid-template-columns: 220px 1fr; gap: 12px; }
    .spell-list { display: flex; flex-direction: column; gap: 8px; }
    .spell { padding: 8px; border: 2px solid #2d3f8a; border-radius: 4px; background: linear-gradient(180deg, #1d2f6a, #101d3f); font-size: 12px; text-shadow: 1px 1px 0 #000; display: flex; justify-content: space-between; align-items: center; }
    .spell .cost { color: #7ecbff; font-size: 10px; }
    .spell.active { border-color: #8ff7ff; background: linear-gradient(180deg, #2f4cc0, #20348c); box-shadow: 0 0 10px rgba(110, 200, 255, 0.6); }
    .spell:hover { border-color: #5b79d9; }
    .spell-info { border: 2px solid #2d3f8a; border-radius: 4px; padding: 12px; background: rgba(6, 14, 64, 0.9); font-size: 11px; line-height: 1.6; text-shadow: 1px 1px 0 #000; display: flex; flex-direction: column; gap: 12px; }
    .spell-info h2 { font-size: 12px; color: #8ff7ff; }
    .spell-info .tags { display: flex; gap: 6px; flex-wrap: wrap; }
    .tag { background: rgba(110, 200, 255, 0.15); border: 1px solid #8ff7ff; border-radius: 4px; padding: 3px 6px; font-size: 9px; }
    .portrait-card { width: 220px; background: rgba(12, 22, 68, 0.95); border: 2px solid #4c63d3; border-radius: 4px; padding: 10px; display: flex; flex-direction: column; gap: 12px; }
    .portrait-card .portrait { width: 96px; height: 96px; border: 2px solid #20348c; border-radius: 4px; align-self: center; background: #1d2f6a; position: relative; }
    .portrait-card .portrait img { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 64px; height: 64px; }
    .portrait-card .name { text-align: center; font-size: 12px; text-shadow: 1px 1px 0 #000; }
    .portrait-card .meter { display: flex; flex-direction: column; gap: 6px; font-size: 10px; }
    .meter-line { display: flex; align-items: center; gap: 8px; }
    .meter-line .label { min-width: 26px; color: #7ecbff; }
    .meter-line .bar { flex: 1; height: 6px; border: 1px solid #101d3f; background: #121f45; position: relative; overflow: hidden; }
    .meter-line .fill { position: absolute; inset: 0; background: linear-gradient(180deg, #7ff0ff, #4bd2f7); }
    .meter-line .fill.pp { background: linear-gradient(180deg, #66AAFF, #3C76D0); }
    @keyframes float { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
  </style>
</head>
<body>
  <div class="battle-container" role="application" aria-label="Golden Sun Psynergy selection">
    <div class="stat-bar" aria-label="Party status">
      <div class="hero-stat">
        <div class="name">Isaac</div>
        <div class="stat-line"><span class="stat-label">HP</span><span class="stat-value">132/210</span><div class="bar"><div class="bar-fill hp" style="width:63%"></div></div></div>
        <div class="stat-line"><span class="stat-label">PP</span><span class="stat-value">44/70</span><div class="bar"><div class="bar-fill" style="width:63%"></div></div></div>
      </div>
      <div class="hero-stat">
        <div class="name">Garet</div>
        <div class="stat-line"><span class="stat-label">HP</span><span class="stat-value">182/236</span><div class="bar"><div class="bar-fill hp" style="width:77%"></div></div></div>
        <div class="stat-line"><span class="stat-label">PP</span><span class="stat-value">18/54</span><div class="bar"><div class="bar-fill" style="width:33%"></div></div></div>
      </div>
      <div class="hero-stat">
        <div class="name">Ivan</div>
        <div class="stat-line"><span class="stat-label">HP</span><span class="stat-value">148/178</span><div class="bar"><div class="bar-fill hp" style="width:83%"></div></div></div>
        <div class="stat-line"><span class="stat-label">PP</span><span class="stat-value">62/90</span><div class="bar"><div class="bar-fill" style="width:69%"></div></div></div>
      </div>
      <div class="hero-stat">
        <div class="name">Mia</div>
        <div class="stat-line"><span class="stat-label">HP</span><span class="stat-value">167/200</span><div class="bar"><div class="bar-fill hp" style="width:84%"></div></div></div>
        <div class="stat-line"><span class="stat-label">PP</span><span class="stat-value">82/110</span><div class="bar"><div class="bar-fill" style="width:75%"></div></div></div>
      </div>
    </div>

    <div class="enemy-row" aria-label="Enemy units">
      <div class="enemy"><img src="../assets/goblin.gif" alt="Goblin" /></div>
      <div class="enemy"><img src="../assets/Wolfkin.gif" alt="Wolfkin" /></div>
      <div class="enemy"><img src="../assets/Battle.gif" alt="Living statue" /></div>
    </div>

    <div class="party-row" aria-label="Party units">
      <div class="hero"><img src="../assets/Isaac_Axe_Front.gif" alt="Isaac" /></div>
      <div class="hero"><img src="../assets/Garet_Axe_Front.gif" alt="Garet" /></div>
      <div class="hero"><img src="../assets/Ivan_Staff_Front.gif" alt="Ivan" /></div>
      <div class="hero"><img src="../assets/Mia_Mace_Front.gif" alt="Mia" /></div>
    </div>

    <div class="combat-log" role="log" aria-live="polite">
      <div class="log-entry">Wolfkin howls, boosting the enemies' attack!</div>
      <div class="log-entry">Mia focuses her mind to channel a powerful healing wave.</div>
      <div class="log-entry amplify">Psynergy Amplify ×1.5 while focused.</div>
      <div class="log-entry">Ivan is readying <strong>Shine Plasma</strong>.</div>
    </div>

    <div class="bottom-ui">
      <div class="portrait-card" aria-label="Active adept">
        <div class="portrait"><img src="../../../sprites/golden-sun/icons/characters/Mia.gif" alt="Mia portrait" /></div>
        <div class="name">Mia — Mercury Adept</div>
        <div class="meter">
          <div class="meter-line"><span class="label">HP</span><div class="bar"><div class="fill" style="width:84%"></div></div><span>167</span></div>
          <div class="meter-line"><span class="label">PP</span><div class="bar"><div class="fill pp" style="width:75%"></div></div><span>82</span></div>
          <div class="meter-line"><span class="label">Res</span><div class="bar"><div class="fill" style="width:68%"></div></div><span>Water↑</span></div>
        </div>
      </div>

      <div class="psynergy-menu" aria-label="Psynergy selection">
        <div class="spell-list">
          <div class="spell"><span>Ply</span><span class="cost">4 PP</span></div>
          <div class="spell"><span>Ply Well</span><span class="cost">7 PP</span></div>
          <div class="spell active"><span>Wish Well</span><span class="cost">18 PP</span></div>
          <div class="spell"><span>Pure Wish</span><span class="cost">28 PP</span></div>
          <div class="spell"><span>Prism</span><span class="cost">16 PP</span></div>
          <div class="spell"><span>Glacier</span><span class="cost">22 PP</span></div>
          <div class="spell"><span>Frostbite</span><span class="cost">10 PP</span></div>
        </div>
        <div class="spell-info">
          <h2>Wish Well</h2>
          <div class="tags">
            <span class="tag">Mercury</span>
            <span class="tag">All Allies</span>
            <span class="tag">Heal</span>
          </div>
          <p>Mia summons a tidal glyph that restores a large amount of HP to all party members.</p>
          <p>Recovery scales with Mia's Mercury Power. Additional bonuses when Djinn are set.</p>
          <p>Current PP remaining after cast: <strong>64</strong></p>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
